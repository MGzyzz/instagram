{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/css/bootstrap.min.css" integrity="sha512-Ez0cGzNzHR1tYAv56860NLspgUGuQw16GiOOp/I2LuTmpSK9xDXlgJz3XN4cnpXWDmkNBKXR/VDMTCnAaEooxA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
    <title>Document</title>
        <script defer src="{% static "js/script.js" %}"></script>
</head>
<body>

    <div class="container-fluid">
        <div class="row" style="height: 100%">
            <aside class="col-12 col-md-2 col-sm-3 p-0 line-left pe-2">
                <div class="d-flex flex-column align-items-start sidebar position-fixed">
                    <header class="sidebar-header w-100 mb-4 mt-3 ms-4">
                        <a href="{% url 'home' %}" class="d-inline-block">
                            <img class="logo-img align-middle" src="{% static 'img/logo.svg' %}" alt="Instagram logo">
                        </a>
                    </header>

                    <nav class="w-100">
                        <a href="{% url 'home' %}" class="btn width-button mb-2 ms-2 p-3 text-start button_hover">
                            <span class="d-flex align-items-center">
                                <i class="uil uil-estate me-3 icon-width"></i>
                                <span class="fw-bold">Home</span>
                            </span>
                        </a>
                        {% include 'partial/search_form.html' %}
                        {% if user.is_authenticated %}
                        <a href="{% url 'create-publication' %}" class="btn width-button mb-2 ms-2  p-3 text-start button_hover">
                            <span class="d-flex align-items-center">
                                <i class="uil uil-plus-circle me-3 icon-width"></i>
                                <span class="fw-bold">Create</span>
                            </span>
                        </a>
                    {% endif %}
                        {% if user.is_authenticated %}
                                <a href="{% url 'profile' request.user.id %}" class="btn width-button mb-2 ms-2  p-3 text-start button_hover d-flex align-items-center">
    <img src="{{ request.user.profile.avatar.url }}" class="me-3 profile-image" alt="Profile" style="width: 28px; height: 28px; border-radius: 50%;">
    <span class="fw-bold">{{ request.user.username }}</span>
</a>
                        {% endif %}

                     {% if not user.is_authenticated  %}
                    <a href="{% url 'login' %}" class="btn width-button mb-2 ms-2  p-3 text-start button_hover">
                            <span class="d-flex align-items-center fs-4 fw-bold">
                                login
                            </span>
                        </a>
                     {% else %}
                         <a href="{% url 'logout' %}" class="btn width-button mb-2 ms-2  p-3 text-start button_hover">
                            <span class="d-flex align-items-center text-danger fw-bold">
                                logout
                            </span>
                         </a>
                    {% endif %}
                    </nav>
                </div>
            </aside>
                        <main class="col-12 col-md-10 col-sm-9 px-4">
            {% block content %}

            {% endblock %}
                </main>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>
